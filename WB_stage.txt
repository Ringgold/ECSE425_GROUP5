library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

entity WB_stage is 
	PORT( 
    clk: in  std_logic;
    memory_data: in std_logic_vector(31 downto 0);
    alu_result: in std_logic_vector(31 downto 0);
    opcode : in std_logic_vector(5 downto 0);
    writeback_addr: in std_logic_vector(4 downto 0);

    writeback_data: out std_logic_vector(31 downto 0);
    writeback_addr_go: out std_logic_vector(4 downto 0)  
	);
end entity;

architecture behaviour of WB_stage is

begin
wb_process:process(clk)
begin
   if (clk'event and clk = '1') then 
      if(opcode = "100011") then --lw command
        writeback_data <= memory_data;
      else 
        writeback_data <= alu_result;
      end if;
      writeback_addr_go <= writeback_addr;
    end if;
end process;
end behaviour;